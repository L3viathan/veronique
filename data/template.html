<!DOCTYPE html>
<html data-theme="light">
<head>
    <script src="/static/htmx.js"></script>
    <title>{title}</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="stylesheet" href="/static/mana-cost.css">
    <link rel="stylesheet" href="/static/pico.min.css">
    <link rel="stylesheet" href="/static/prism.css">
    <meta name="htmx-config" content='{{"scrollIntoViewOnBoost": false}}'>
    <script src="/static/cytoscape.min.js"></script>
    <script src="/static/prism.js"></script>
    <script>
        function update(text) {{
          let result_element = document.querySelector("#highlighting-content");
          // Handle final newlines (see https://css-tricks.com/creating-an-editable-textarea-that-supports-syntax-highlighted-code/)
          if(text[text.length-1] == "\n") {{
            text += " ";
          }}
          result_element.innerHTML = text.replace(new RegExp("&", "g"), "&amp;").replace(new RegExp("<", "g"), "&lt;");
          Prism.highlightElement(result_element);
        }}
 
        function sync_scroll(element) {{
          /* Scroll result to scroll coords of event - sync with textarea */
          let result_element = document.querySelector("#highlighting");
          // Get and set x and y
          result_element.scrollTop = element.scrollTop;
          result_element.scrollLeft = element.scrollLeft;
        }}
    </script>
</head>
<body>
    <header>
    <nav>
        <ul><li>
            <a href="/" id="triangle"><span>▼</span><span>▼</span><span>▼</span><span>▼</span><span>▼</span><span>▼</span></a>
        </li></ul>
        <ul>
            {news}
            <li>
                <details class="dropdown">
                <summary>Go to...</summary>
                <ul dir="rtl">
                    {gotos}
                </ul>
                </details>
            </li>
            <li><input
                id="q"
                name="q"
                type="search"
                hx-get="/search"
                hx-trigger="input changed delay:200ms, search"
                hx-select="#container"
                hx-target="#container"
                hx-push-url="true"
                >
            </li>
            {user}
        </ul>
    </nav>
    </header>
    <main id="container">{content}</main>
    {errors}
</body>
</html>
